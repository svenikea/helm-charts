# apiVersion: apps/v1
# kind: DaemonSet
# metadata:
#   name: {{ .Values.daemonSet.name }}
# spec:
#   selector:
#     matchLabels:
#       app: {{ .Values.daemonSet.name }}
#   template:
#     metadata:
#       labels:
#         app: {{ .Values.daemonSet.name }}
#     spec:
#       containers:
#       - args:
#         - --path.sysfs=/host/sys
#         - --path.rootfs=/host/root
#         - --no-collector.wifi
#         - --no-collector.hwmon
#         - --collector.filesystem.ignored-mount-points=^/(dev|proc|sys|var/lib/docker/.+|var/lib/kubelet/pods/.+)($|/)
#         - --collector.netclass.ignored-devices=^(veth.*)$
#         name: node-exporter
#         image: {{ .Values.daemonSet.image.repositoryUrl }}/{{ .Values.daemonSet.image.name }}:{{ .Values.daemonSet.image.tag }}
#         ports:
#           - containerPort: 9100
#             protocol: TCP
#             name: http
#         resources:
#           limits:
#             cpu: 250m
#             memory: 180Mi
#           requests:
#             cpu: 102m
#             memory: 180Mi
#         volumeMounts:
#         - mountPath: /host/sys
#           mountPropagation: HostToContainer
#           name: sys
#           readOnly: true
#         - mountPath: /host/root
#           mountPropagation: HostToContainer
#           name: root
#           readOnly: true
#       volumes:
#       - hostPath:
#           path: /sys
#         name: sys
#       - hostPath:
#           path: /
#         name: root
